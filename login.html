{% extends "base.html" %}

{% block content %}
<div class="login-container">
    <div class="login-box">
        <h1>üîê –í—Ö–æ–¥ –≤ Telegram</h1>
        
        {% if error %}
        <div class="error-message">{{ error }}</div>
        {% endif %}
        
        {% if step == 'phone' %}
        <form method="POST">
            <div class="form-group">
                <label for="phone">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞:</label>
                <input type="tel" id="phone" name="phone" required 
                       placeholder="+79123456789" pattern="\+[0-9]{11}">
            </div>
            <button type="submit" class="btn btn-primary">–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥</button>
        </form>
        
        {% elif step == 'code' %}
        <form method="POST" action="{{ url_for('verify') }}">
            <p>–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞: <strong>{{ phone }}</strong></p>
            <div class="form-group">
                <label for="code">–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:</label>
                <input type="text" id="code" name="code" required 
                       placeholder="12345" maxlength="5">
            </div>
            <div class="form-group">
                <label for="password">–ü–∞—Ä–æ–ª—å 2FA (–µ—Å–ª–∏ –µ—Å—Ç—å):</label>
                <input type="password" id="password" name="password" 
                       placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å">
            </div>
            <button type="submit" class="btn btn-primary">–í–æ–π—Ç–∏</button>
        </form>
        {% endif %}
        
        <div class="login-info">
            <p>üîí –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º</p>
        </div>
        
        <div class="back-link">
            <a href="{{ url_for('index') }}">‚Üê –ù–∞–∑–∞–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
        </div>
    </div>
</div>
{% endblock %}